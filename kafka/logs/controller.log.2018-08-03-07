[2018-08-03 07:08:09,156] DEBUG preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@66d3c617, name=log4j:logger=kafka.controller (kafka.controller)
[2018-08-03 07:08:28,752] INFO [controller-event-thread]: Starting (kafka.controller.ControllerEventManager$ControllerEventThread)
[2018-08-03 07:08:28,789] INFO [Controller id=1] 1 successfully elected as the controller (kafka.controller.KafkaController)
[2018-08-03 07:08:28,797] INFO [Controller id=1] Starting become controller state transition (kafka.controller.KafkaController)
[2018-08-03 07:08:28,830] INFO [Controller id=1] Incremented epoch to 1 (kafka.controller.KafkaController)
[2018-08-03 07:08:28,845] DEBUG [Controller id=1] Registering IsrChangeNotificationListener (kafka.controller.KafkaController)
[2018-08-03 07:08:28,862] DEBUG [Controller id=1] Registering logDirEventNotificationListener (kafka.controller.KafkaController)
[2018-08-03 07:08:28,930] INFO [Controller id=1] Partitions being reassigned: Map() (kafka.controller.KafkaController)
[2018-08-03 07:08:28,930] INFO [Controller id=1] Partitions already reassigned: Set() (kafka.controller.KafkaController)
[2018-08-03 07:08:28,932] INFO [Controller id=1] Resuming reassignment of partitions: Map() (kafka.controller.KafkaController)
[2018-08-03 07:08:28,933] INFO [Controller id=1] Currently active brokers in the cluster: Set() (kafka.controller.KafkaController)
[2018-08-03 07:08:28,933] INFO [Controller id=1] Currently shutting brokers in the cluster: Set() (kafka.controller.KafkaController)
[2018-08-03 07:08:28,933] INFO [Controller id=1] Current list of topics in the cluster: Set() (kafka.controller.KafkaController)
[2018-08-03 07:08:28,937] INFO [Controller id=1] List of topics to be deleted:  (kafka.controller.KafkaController)
[2018-08-03 07:08:28,937] INFO [Controller id=1] List of topics ineligible for deletion:  (kafka.controller.KafkaController)
[2018-08-03 07:08:28,982] INFO [ReplicaStateMachine controllerId=1] Started replica state machine with initial state -> Map() (kafka.controller.ReplicaStateMachine)
[2018-08-03 07:08:28,993] INFO [PartitionStateMachine controllerId=1] Started partition state machine with initial state -> Map() (kafka.controller.PartitionStateMachine)
[2018-08-03 07:08:28,994] INFO [Controller id=1] Ready to serve as the new controller with epoch 1 (kafka.controller.KafkaController)
[2018-08-03 07:08:28,996] INFO [Controller id=1] Partitions undergoing preferred replica election:  (kafka.controller.KafkaController)
[2018-08-03 07:08:29,012] INFO [Controller id=1] Partitions that completed preferred replica election:  (kafka.controller.KafkaController)
[2018-08-03 07:08:29,013] INFO [Controller id=1] Skipping preferred replica election for partitions due to topic deletion:  (kafka.controller.KafkaController)
[2018-08-03 07:08:29,014] INFO [Controller id=1] Resuming preferred replica election for partitions:  (kafka.controller.KafkaController)
[2018-08-03 07:08:29,015] INFO [Controller id=1] Starting preferred replica leader election for partitions  (kafka.controller.KafkaController)
[2018-08-03 07:08:29,016] INFO [PartitionStateMachine controllerId=1] Invoking state change to OnlinePartition for partitions  (kafka.controller.PartitionStateMachine)
[2018-08-03 07:08:29,029] INFO [Controller id=1] Starting the controller scheduler (kafka.controller.KafkaController)
[2018-08-03 07:08:29,123] INFO [Controller id=1] Newly added brokers: 1, deleted brokers: , all live brokers: 1 (kafka.controller.KafkaController)
[2018-08-03 07:08:29,128] DEBUG [Channel manager on controller 1]: Controller 1 trying to connect to broker 1 (kafka.controller.ControllerChannelManager)
[2018-08-03 07:08:29,139] INFO [Controller id=1] New broker startup callback for 1 (kafka.controller.KafkaController)
[2018-08-03 07:08:29,140] INFO [Controller-1-to-broker-1-send-thread]: Starting (kafka.controller.RequestSendThread)
[2018-08-03 07:08:29,166] INFO [Controller-1-to-broker-1-send-thread]: Controller 1 connected to ubuntu:9092 (id: 1 rack: null) for sending state change requests (kafka.controller.RequestSendThread)
[2018-08-03 07:08:34,032] TRACE [Controller id=1] Checking need to trigger auto leader balancing (kafka.controller.KafkaController)
[2018-08-03 07:08:34,035] DEBUG [Controller id=1] Preferred replicas by broker Map() (kafka.controller.KafkaController)
[2018-08-03 07:08:35,218] INFO [Controller id=1] New topics: [Set(test2)], deleted topics: [Set()], new partition replica assignment [Map(test2-0 -> Vector(1))] (kafka.controller.KafkaController)
[2018-08-03 07:08:35,219] INFO [Controller id=1] New topic creation callback for test2-0 (kafka.controller.KafkaController)
[2018-08-03 07:08:35,223] INFO [Controller id=1] New partition creation callback for test2-0 (kafka.controller.KafkaController)
[2018-08-03 07:08:35,223] INFO [PartitionStateMachine controllerId=1] Invoking state change to NewPartition for partitions test2-0 (kafka.controller.PartitionStateMachine)
[2018-08-03 07:08:35,228] INFO [ReplicaStateMachine controllerId=1] Invoking state change to NewReplica for replicas [Topic=test2,Partition=0,Replica=1] (kafka.controller.ReplicaStateMachine)
[2018-08-03 07:08:35,234] INFO [PartitionStateMachine controllerId=1] Invoking state change to OnlinePartition for partitions test2-0 (kafka.controller.PartitionStateMachine)
[2018-08-03 07:08:35,235] DEBUG [PartitionStateMachine controllerId=1] Live assigned replicas for partition test2-0 are: [List(1)] (kafka.controller.PartitionStateMachine)
[2018-08-03 07:08:35,236] DEBUG [PartitionStateMachine controllerId=1] Initializing leader and isr for partition test2-0 to (Leader:1,ISR:1,LeaderEpoch:0,ControllerEpoch:1) (kafka.controller.PartitionStateMachine)
[2018-08-03 07:08:35,270] INFO [ReplicaStateMachine controllerId=1] Invoking state change to OnlineReplica for replicas [Topic=test2,Partition=0,Replica=1] (kafka.controller.ReplicaStateMachine)
[2018-08-03 07:13:12,762] INFO [Controller id=1] Shutting down broker 1 (kafka.controller.KafkaController)
[2018-08-03 07:13:12,762] DEBUG [Controller id=1] All shutting down brokers: 1 (kafka.controller.KafkaController)
[2018-08-03 07:13:12,762] DEBUG [Controller id=1] Live brokers:  (kafka.controller.KafkaController)
[2018-08-03 07:13:12,765] TRACE [Controller id=1] All leaders = test2-0 -> (Leader:1,ISR:1,LeaderEpoch:0,ControllerEpoch:1) (kafka.controller.KafkaController)
[2018-08-03 07:13:16,468] INFO [controller-event-thread]: Shutting down (kafka.controller.ControllerEventManager$ControllerEventThread)
[2018-08-03 07:13:16,468] INFO [controller-event-thread]: Stopped (kafka.controller.ControllerEventManager$ControllerEventThread)
[2018-08-03 07:13:16,468] INFO [controller-event-thread]: Shutdown completed (kafka.controller.ControllerEventManager$ControllerEventThread)
[2018-08-03 07:13:16,468] DEBUG [Controller id=1] Resigning (kafka.controller.KafkaController)
[2018-08-03 07:13:16,469] DEBUG [Controller id=1] De-registering IsrChangeNotificationListener (kafka.controller.KafkaController)
[2018-08-03 07:13:16,469] DEBUG [Controller id=1] De-registering logDirEventNotificationListener (kafka.controller.KafkaController)
[2018-08-03 07:13:16,471] INFO [PartitionStateMachine controllerId=1] Stopped partition state machine (kafka.controller.PartitionStateMachine)
[2018-08-03 07:13:16,472] INFO [ReplicaStateMachine controllerId=1] Stopped replica state machine (kafka.controller.ReplicaStateMachine)
[2018-08-03 07:13:16,472] INFO [Controller-1-to-broker-1-send-thread]: Shutting down (kafka.controller.RequestSendThread)
[2018-08-03 07:13:16,472] INFO [Controller-1-to-broker-1-send-thread]: Stopped (kafka.controller.RequestSendThread)
[2018-08-03 07:13:16,472] INFO [Controller-1-to-broker-1-send-thread]: Shutdown completed (kafka.controller.RequestSendThread)
[2018-08-03 07:13:16,474] INFO [Controller id=1] Resigned (kafka.controller.KafkaController)
[2018-08-03 07:13:30,394] DEBUG preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@66d3c617, name=log4j:logger=kafka.controller (kafka.controller)
[2018-08-03 07:13:33,917] INFO [controller-event-thread]: Starting (kafka.controller.ControllerEventManager$ControllerEventThread)
[2018-08-03 07:13:33,958] INFO [Controller id=1] 1 successfully elected as the controller (kafka.controller.KafkaController)
[2018-08-03 07:13:33,958] INFO [Controller id=1] Starting become controller state transition (kafka.controller.KafkaController)
[2018-08-03 07:13:33,964] INFO [Controller id=1] Initialized controller epoch to 1 and zk version 0 (kafka.controller.KafkaController)
[2018-08-03 07:13:33,968] INFO [Controller id=1] Incremented epoch to 2 (kafka.controller.KafkaController)
[2018-08-03 07:13:33,976] DEBUG [Controller id=1] Registering IsrChangeNotificationListener (kafka.controller.KafkaController)
[2018-08-03 07:13:33,990] DEBUG [Controller id=1] Registering logDirEventNotificationListener (kafka.controller.KafkaController)
[2018-08-03 07:13:34,021] INFO [Controller id=1] Partitions being reassigned: Map() (kafka.controller.KafkaController)
[2018-08-03 07:13:34,021] INFO [Controller id=1] Partitions already reassigned: Set() (kafka.controller.KafkaController)
[2018-08-03 07:13:34,022] INFO [Controller id=1] Resuming reassignment of partitions: Map() (kafka.controller.KafkaController)
[2018-08-03 07:13:34,023] INFO [Controller id=1] Currently active brokers in the cluster: Set() (kafka.controller.KafkaController)
[2018-08-03 07:13:34,024] INFO [Controller id=1] Currently shutting brokers in the cluster: Set() (kafka.controller.KafkaController)
[2018-08-03 07:13:34,024] INFO [Controller id=1] Current list of topics in the cluster: Set(test2) (kafka.controller.KafkaController)
[2018-08-03 07:13:34,028] INFO [Controller id=1] List of topics to be deleted:  (kafka.controller.KafkaController)
[2018-08-03 07:13:34,029] INFO [Controller id=1] List of topics ineligible for deletion: test2 (kafka.controller.KafkaController)
[2018-08-03 07:13:34,060] INFO [ReplicaStateMachine controllerId=1] Started replica state machine with initial state -> Map([Topic=test2,Partition=0,Replica=1] -> ReplicaDeletionIneligible) (kafka.controller.ReplicaStateMachine)
[2018-08-03 07:13:34,073] INFO [PartitionStateMachine controllerId=1] Started partition state machine with initial state -> Map(test2-0 -> OfflinePartition) (kafka.controller.PartitionStateMachine)
[2018-08-03 07:13:34,076] INFO [Controller id=1] Ready to serve as the new controller with epoch 2 (kafka.controller.KafkaController)
[2018-08-03 07:13:34,079] INFO [Controller id=1] Partitions undergoing preferred replica election:  (kafka.controller.KafkaController)
[2018-08-03 07:13:34,079] INFO [Controller id=1] Partitions that completed preferred replica election:  (kafka.controller.KafkaController)
[2018-08-03 07:13:34,079] INFO [Controller id=1] Skipping preferred replica election for partitions due to topic deletion:  (kafka.controller.KafkaController)
[2018-08-03 07:13:34,080] INFO [Controller id=1] Resuming preferred replica election for partitions:  (kafka.controller.KafkaController)
[2018-08-03 07:13:34,080] INFO [Controller id=1] Starting preferred replica leader election for partitions  (kafka.controller.KafkaController)
[2018-08-03 07:13:34,080] INFO [PartitionStateMachine controllerId=1] Invoking state change to OnlinePartition for partitions  (kafka.controller.PartitionStateMachine)
[2018-08-03 07:13:34,084] INFO [Controller id=1] Starting the controller scheduler (kafka.controller.KafkaController)
[2018-08-03 07:13:34,095] INFO [Controller id=1] Newly added brokers: 1, deleted brokers: , all live brokers: 1 (kafka.controller.KafkaController)
[2018-08-03 07:13:34,096] DEBUG [Channel manager on controller 1]: Controller 1 trying to connect to broker 1 (kafka.controller.ControllerChannelManager)
[2018-08-03 07:13:34,105] INFO [Controller-1-to-broker-1-send-thread]: Starting (kafka.controller.RequestSendThread)
[2018-08-03 07:13:34,105] INFO [Controller id=1] New broker startup callback for 1 (kafka.controller.KafkaController)
[2018-08-03 07:13:34,112] INFO [ReplicaStateMachine controllerId=1] Invoking state change to OnlineReplica for replicas [Topic=test2,Partition=0,Replica=1] (kafka.controller.ReplicaStateMachine)
[2018-08-03 07:13:34,127] INFO [Controller-1-to-broker-1-send-thread]: Controller 1 connected to ubuntu:9092 (id: 1 rack: null) for sending state change requests (kafka.controller.RequestSendThread)
[2018-08-03 07:13:34,133] DEBUG [OfflinePartitionLeaderSelector]: Some broker in ISR is alive for test2-0. Select 1 from ISR 1 to be the leader. (kafka.controller.OfflinePartitionLeaderSelector)
[2018-08-03 07:13:34,133] INFO [OfflinePartitionLeaderSelector]: Selected new leader and ISR {"leader":1,"leader_epoch":1,"isr":[1]} for offline partition test2-0 (kafka.controller.OfflinePartitionLeaderSelector)
[2018-08-03 07:13:34,137] DEBUG [PartitionStateMachine controllerId=1] After leader election, leader cache for test2-0 is updated to (Leader:1,ISR:1,LeaderEpoch:1,ControllerEpoch:2) (kafka.controller.PartitionStateMachine)
[2018-08-03 07:13:39,087] TRACE [Controller id=1] Checking need to trigger auto leader balancing (kafka.controller.KafkaController)
[2018-08-03 07:13:39,088] DEBUG [Controller id=1] Preferred replicas by broker Map(1 -> Map(test2-0 -> Vector(1))) (kafka.controller.KafkaController)
[2018-08-03 07:13:39,089] DEBUG [Controller id=1] Topics not in preferred replica Map() (kafka.controller.KafkaController)
[2018-08-03 07:13:39,089] TRACE [Controller id=1] Leader imbalance ratio for broker 1 is 0.0 (kafka.controller.KafkaController)
[2018-08-03 07:15:55,235] INFO [Controller id=1] Shutting down broker 1 (kafka.controller.KafkaController)
[2018-08-03 07:15:55,236] DEBUG [Controller id=1] All shutting down brokers: 1 (kafka.controller.KafkaController)
[2018-08-03 07:15:55,236] DEBUG [Controller id=1] Live brokers:  (kafka.controller.KafkaController)
[2018-08-03 07:15:55,238] TRACE [Controller id=1] All leaders = test2-0 -> (Leader:1,ISR:1,LeaderEpoch:1,ControllerEpoch:2) (kafka.controller.KafkaController)
[2018-08-03 07:15:58,384] INFO [controller-event-thread]: Shutting down (kafka.controller.ControllerEventManager$ControllerEventThread)
[2018-08-03 07:15:58,384] INFO [controller-event-thread]: Stopped (kafka.controller.ControllerEventManager$ControllerEventThread)
[2018-08-03 07:15:58,384] INFO [controller-event-thread]: Shutdown completed (kafka.controller.ControllerEventManager$ControllerEventThread)
[2018-08-03 07:15:58,384] DEBUG [Controller id=1] Resigning (kafka.controller.KafkaController)
[2018-08-03 07:15:58,384] DEBUG [Controller id=1] De-registering IsrChangeNotificationListener (kafka.controller.KafkaController)
[2018-08-03 07:15:58,385] DEBUG [Controller id=1] De-registering logDirEventNotificationListener (kafka.controller.KafkaController)
[2018-08-03 07:15:58,386] INFO [PartitionStateMachine controllerId=1] Stopped partition state machine (kafka.controller.PartitionStateMachine)
[2018-08-03 07:15:58,386] INFO [ReplicaStateMachine controllerId=1] Stopped replica state machine (kafka.controller.ReplicaStateMachine)
[2018-08-03 07:15:58,387] INFO [Controller-1-to-broker-1-send-thread]: Shutting down (kafka.controller.RequestSendThread)
[2018-08-03 07:15:58,387] INFO [Controller-1-to-broker-1-send-thread]: Stopped (kafka.controller.RequestSendThread)
[2018-08-03 07:15:58,387] INFO [Controller-1-to-broker-1-send-thread]: Shutdown completed (kafka.controller.RequestSendThread)
[2018-08-03 07:15:58,388] INFO [Controller id=1] Resigned (kafka.controller.KafkaController)
